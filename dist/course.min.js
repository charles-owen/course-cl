"use strict";(self.webpackChunkcse335=self.webpackChunkcse335||[]).push([[77],{57924:(t,e,i)=>{var n=i(29308),s=i(63255),r=function(){},o=function(t){for(var e in t)this[e]=t[e]};function a(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return u(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,s=function(){};return{s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return o=t.done,t},e:function(t){a=!0,r=t},f:function(){try{o||null==i.return||i.return()}finally{if(a)throw r}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var l=function(t){this.tag=t.tag,this.name=t.name,this.grading=void 0!==t.grading?t.grading:null,this.assignments=[],this.assignmentsByTag=[];var e,i=a(t.assignments);try{for(i.s();!(e=i.n()).done;){var n=e.value,s=new o(n);this.assignments.push(s),this.assignmentsByTag[s.tag]=s}}catch(t){i.e(t)}finally{i.f()}this.getAssignment=function(t){var e=this.assignmentsByTag[t];return void 0!==e?e:null}};function c(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return m(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return m(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,s=function(){};return{s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return o=t.done,t},e:function(t){a=!0,r=t},f:function(){try{o||null==i.return||i.return()}finally{if(a)throw r}}}}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var f=function(t){this.categories=[];var e,i=c(t.categories);try{for(i.s();!(e=i.n()).done;){var n=e.value;this.categories.push(new l(n))}}catch(t){i.e(t)}finally{i.f()}this.getAssignment=function(t){var e,i=c(this.categories);try{for(i.s();!(e=i.n()).done;){var n=e.value.getAssignment(t);if(null!==n)return n}}catch(t){i.e(t)}finally{i.f()}return null}},p=function(t){this.id=t.id,this.semester=t.semester,this.type=t.type,this.assignments=new f(t.assignments),this.getAssignment=function(t){return this.assignments.getAssignment(t)}};function h(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return d(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return d(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,s=function(){};return{s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return o=t.done,t},e:function(t){a=!0,r=t},f:function(){try{o||null==i.return||i.return()}finally{if(a)throw r}}}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var b=function(t){this.account=t.account,this.desc=t.desc,this.name=t.name,this.sections=[],this.sectionsById=[];var e,i=h(t.sections);try{for(i.s();!(e=i.n()).done;){var n=e.value,s=new p(n);this.sectionsById[n.id]=s,this.sections.push(s)}}catch(t){i.e(t)}finally{i.f()}};function g(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return v(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return v(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,s=function(){};return{s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return o=t.done,t},e:function(t){a=!0,r=t},f:function(){try{o||null==i.return||i.return()}finally{if(a)throw r}}}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var y={namespaced:!0,state:{course:null,staff:[]},mutations:{set:function(t,e){t.course=new b(e)},setStaff:function(t,e){var i,n={},s=g(e);try{for(s.s();!(i=s.n()).done;){var r=i.value,o=new Site.User(r);n[o.member.id]=o}}catch(t){s.e(t)}finally{s.f()}t.staff=n}},getters:{section:function(t){return function(e,i){var n,s=g(t.course.sections);try{for(s.s();!(n=s.n()).done;){var r=n.value;if(r.semester===e&&r.id===i)return r}}catch(t){s.e(t)}finally{s.f()}return null}},assignment:function(t,e){return function(e,i,n){var s,r=g(t.course.sections);try{for(r.s();!(s=r.n()).done;){var o=s.value;if(o.semester===e&&o.id===i)return o}}catch(t){r.e(t)}finally{r.f()}return null}},staff:function(t){return function(e){var i=t.staff[e];return void 0!==i?i:null}}}},w=i(26691),S=function(t,e){var i=e.VueHelper,n=JSON.parse(t.textContent),s=n.sections,r=n.before,o=n.after,a=e.info.header.component(),u=e.info.footer.component(),l=(0,w.p7)({history:(0,w.PO)(),routes:[{path:"/:pathMatch(.*)",name:"any",component:{template:"<div></div>"}}]}),c=i.createApp({data:function(){return{title:"Section Selector",before:r,after:o,sections:s}},mounted:function(){this.redirect=this.$route.query.u,void 0!==this.redirect&&null!==this.redirect||(this.redirect=Site.root)},template:'\n<div id="cl-section-selector">\n  <site-header :title="title"></site-header>\n    <div class="content">\n      <div v-html="before"></div>\n        <div class="centerbox cl-selector">\n          <p v-for="section in sections"><button @click.prevent="select(section)">{{section.course}} {{section.nice}} Section {{section.section}}</button></p>\n        </div>\n       <div class="left" v-html="after"></div>\n     </div>\n   <site-footer></site-footer>\n</div>',components:{"site-header":a,"site-footer":u},methods:{select:function(t){var e=this,i={semester:t.semester,section:t.section};Site.api.post("/api/course/members/sectionselect",i).then((function(t){t.hasError()?Site.toast(e,t):window.location=e.redirect})).catch((function(t){Site.toast(e,t)}))}}});c.config.globalProperties.$site=e,c.use(l),l.isReady().then((function(){i.mount(c,t)}))};S.install=function(t){var e;null!==(e=document.getElementById("cl-section-selector"))&&new S(e,t)};var _=i(87480),T=function(t,e){var i=e.VueHelper,n=JSON.parse(t.textContent);t.innerHTML="";var s=e.store,r=i.createApp({data:function(){return{submission:n}},components:{submissionVue:_.Z},template:'<submission-vue :submission="submission"></submission-vue>'});r.config.globalProperties.$site=e,r.use(s),i.mount(r,t)};T.install=function(t){for(var e=document.querySelectorAll("div.cl-submission"),i=0;i<e.length;i++)new T(e[i],t)};var k=function(t,e){var i={};t.textContent.length>0&&(i=JSON.parse(t.textContent),t.innerHTML=""),t.style.display="inline-block";var n=document.createElement("form");t.appendChild(n);var s=document.createElement("input");s.type="text",n.appendChild(s);var r=document.createElement("input");r.type="submit",r.value="Error Help",n.appendChild(r);var o=Site.root+"/cl/errorhelp";void 0!==i.assign&&(o+="/"+i.assign,void 0!==i.tag&&(o+="/"+i.tag)),n.addEventListener("submit",(function(t){t.preventDefault();var e=encodeURI(s.value.toUpperCase().trim());window.open("".concat(o,"?e=").concat(e),"Error Help","width=600, height=500, scrollbars=yes")}))};k.install=function(t){for(var e=document.querySelectorAll("div.cl-error-help"),i=0;i<e.length;i++)new k(e[i],t)};var D=function(t,e){var i=this,n=document.createElement("P");t.appendChild(n),n.classList.add("cl-home-control");var s=document.createElement("button");s.textContent="restore",n.appendChild(s),s.onclick=function(){e.api.post("/api/course/members/spoof",{restore:!0}).then((function(t){t.hasError()?Site.toast(i,t):window.location=e.root+"/"})).catch((function(t){Site.toast(i,t)}))}};D.install=function(t){for(var e=document.querySelectorAll("div.cl-spoofing-restore"),i=0;i<e.length;i++)new D(e[i],t)};var A=function(){};if(A.create=function(t){var e=new r;t.Course=e,Site.User.instantiateMember=function(t){return null!==t.member?new s.N(t.member):null};var i=t.StoreModuleUsers,o=t.store;return void 0!==o&&(o.registerModule("course",y),o.registerModule("members",i.create("/api/course/members",(function(t){return t.member.id})))),t.ready((function(){var t;null!==(t=document.getElementById("cl-course"))&&o.commit("course/set",JSON.parse(t.textContent)),(t=document.getElementById("cl-course-staff"))&&o.commit("course/setStaff",JSON.parse(t.textContent)),null!==(t=document.getElementById("cl-user"))&&o.commit("user/set",JSON.parse(t.textContent))})),t.start((function(){S.install(t),T.install(t),k.install(t),D.install(t)})),t.SectionStatus=n.H,t.Member=s.N,e},Site.SectionStatus=n.H,Site.Member=s.N,!Site.Course){var I=A.create(Site);Site.Course=I}},63255:(t,e,i)=>{i.d(e,{N:()=>s});var n=function(){this.user=null},s=function(t){n.call(this);var e="G";void 0!==t?(this.id=t.id,this.semester=t.semester,this.section=t.section,this.created=void 0!==t.created?t.created:null,e=t.role):(this.id=0,this.semester=null,this.section=null,this.created=null,e=null),this.role=function(){return e},this.setRole=function(t){e=t}};s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.prototype.getSection=function(t){return t.getters["course/section"](this.semester,this.section)},s.prototype.getAssignment=function(t,e){return this.getSection(t).getAssignment(e)},s.GUEST="G",s.USER="U",s.DROPPED="D",s.STUDENT="T",s.STAFF="S",s.GRADER="R",s.ULA="L",s.TA="E",s.INSTRUCTOR="I",s.ADMIN="A",s.prototype.getRoles=function(){var t={};return t[s.GUEST]={name:"Guest",priority:1},t[s.DROPPED]={name:"Dropped",priority:2},t[s.USER]={name:"User",priority:3,skip:!0},t[s.STUDENT]={name:"Student",priority:4},t[s.STAFF]={name:"Staff",priority:5,skip:!0},t[s.GRADER]={name:"Grader",priority:6},t[s.ULA]={name:"Undergraduate Learning Assistant",short:"ULA",priority:7},t[s.TA]={name:"Teaching Assistant",short:"TA",priority:8},t[s.INSTRUCTOR]={name:"Instructor",priority:9},t[s.ADMIN]={name:"Admin",priority:100},t}},29308:(t,e,i)=>{i.d(e,{H:()=>n});var n=function(){};n.NOTVISITED="N",n.VISITED="V",n.DONE="D",n.toString=function(t){if(null===t)return"Unknown";switch(t){case n.NOTVISITED:default:return"Not yet visited";case n.VISITED:return"Visited";case n.DONE:return"Completed"}}},87480:(t,e,i)=>{i.d(e,{Z:()=>ft});var n=i(66759),s={class:"cl-submission"},r={key:0,class:""},o={key:0},a=(0,n._)("p",{class:"centerbox comp center"},"This assignment is not open for submissions.",-1),u={key:0,class:"centerbox primary"},l=(0,n._)("p",{class:"center"},[(0,n._)("em",null,"...Staff only for submission testing...")],-1),c=["innerHTML"];var m=i(63255),f={ref:"editor"},p=(0,n._)("p",null,[(0,n._)("input",{type:"submit",value:"Submit"})],-1);const h={props:["submission"],emits:["new_submissions"],mounted:function(){var t=this.$refs.editor;this.editor=new this.$site.Editor(t,{height:this.submission.height,classes:["yellow-pad"]})},methods:{submit:function(){var t=this,e=this.editor.textarea.value.trim();if(""!==e){var i={type:"text/plain",text:e},n=null!==this.submission.teaming?"team":"course";this.$site.api.post("/api/".concat(n,"/submission/submit/").concat(this.submission.assignTag,"/").concat(this.submission.tag),i).then((function(e){e.hasError()?t.$site.toast(t,e):(t.editor.textarea.value="",t.$emit("new_submissions",e.getData("submissions").attributes),t.$site.toast(t,"Submission successfully saved to the server"))})).catch((function(e){t.$site.toast(t,e)}))}else Site.toast(this,"You must enter some text to submit")}}};var d=i(87619);const b=(0,d.Z)(h,[["render",function(t,e,i,s,r,o){return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("form",{method:"post",onSubmit:e[0]||(e[0]=(0,n.iM)((function(){return o.submit&&o.submit.apply(o,arguments)}),["prevent"]))},[(0,n._)("div",f,null,512),p],32)])}]]);var g=["action","target"],v=(0,n._)("input",{class:"upload",type:"submit",name:"submit",value:"Upload File"},null,-1),y=["name"];const w={props:["submission"],emits:["new_submissions"],data:function(){return{files:null,action:null,submitting:!1}},mounted:function(){var t=null!==this.submission.teaming?"team":"course";this.action="".concat(this.$site.root,"/cl/api/").concat(t,"/submission/submit/").concat(this.submission.assignTag,"/").concat(this.submission.tag)},methods:{load:function(){if(this.submitting){this.submitting=!1;var t,e=frames["upload_target_"+this.submission.tag].document.getElementsByTagName("body")[0].innerHTML;try{t=new this.$site.APIResponse(JSON.parse(e))}catch(t){return console.log(e),console.log(t),void this.$site.toast(this,"Error during submission")}t.hasError()?this.$site.toast(this,t):(this.$refs.form.reset(),this.$emit("new_submissions",t.getData("submissions").attributes),this.$site.toast(this,"Submission successfully saved to the server"))}},submit:function(){this.submitting=!0}}},S=(0,d.Z)(w,[["render",function(t,e,i,s,r,o){return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("form",{ref:"form",class:"file",enctype:"multipart/form-data",method:"post",action:t.action,target:"upload_target_"+i.submission.tag,onSubmit:e[2]||(e[2]=function(){return o.submit&&o.submit.apply(o,arguments)})},[(0,n._)("label",null,[(0,n.Uk)("Submit: "),(0,n._)("input",{type:"file",name:"file",onChange:e[0]||(e[0]=function(e){return t.files=e.target.files})},null,32)]),v,(0,n._)("iframe",{ref:"iframe",onLoad:e[1]||(e[1]=function(){return o.load&&o.load.apply(o,arguments)}),name:"upload_target_"+i.submission.tag,src:"",style:{width:"0",height:"0",border:"0px solid #fff",display:"none"}},null,40,y)],40,g)])}]]);var _=["action","target"],T=(0,n._)("input",{class:"upload",type:"submit",name:"submit",value:"Upload File"},null,-1),k=["name"];const D={props:["submission"],emits:["new_submissions"],data:function(){return{files:null,action:null,submitting:!1}},mounted:function(){var t=null!==this.submission.teaming?"team":"course";this.action="".concat(this.$site.root,"/cl/api/").concat(t,"/submission/submit/").concat(this.submission.assignTag,"/").concat(this.submission.tag)},methods:{load:function(){if(this.submitting){this.submitting=!1;var t=frames["upload_target_"+this.submission.tag].document.getElementsByTagName("body")[0].innerHTML,e=new this.$site.APIResponse(JSON.parse(t));e.hasError()?this.$site.toast(this,e):(this.$refs.form.reset(),this.$emit("new_submissions",e.getData("submissions").attributes),this.$site.toast(this,"Submission successfully saved to the server"))}},submit:function(){this.submitting=!0}}},A=(0,d.Z)(D,[["render",function(t,e,i,s,r,o){return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("form",{ref:"form",class:"file",enctype:"multipart/form-data",method:"post",action:t.action,target:"upload_target_"+i.submission.tag,onSubmit:e[2]||(e[2]=function(){return o.submit&&o.submit.apply(o,arguments)})},[(0,n._)("label",null,[(0,n.Uk)("Submit: "),(0,n._)("input",{type:"file",name:"file",onChange:e[0]||(e[0]=function(e){return t.files=e.target.files})},null,32)]),T,(0,n._)("iframe",{ref:"iframe",onLoad:e[1]||(e[1]=function(){return o.load&&o.load.apply(o,arguments)}),name:"upload_target_"+i.submission.tag,src:"",style:{width:"0",height:"0",border:"0px solid #fff",display:"none"}},null,40,k)],40,_)])}]]);var I=(0,n._)("p",null,"Hello",-1),$={class:"shoutout"};const x={props:["options"]},E=(0,d.Z)(x,[["render",function(t,e,i,s,r,o){return(0,n.wg)(),(0,n.iD)("div",null,[I,(0,n._)("p",$,[(0,n.Uk)("Submission type "),(0,n._)("em",null,(0,n.zw)(i.options.type),1),(0,n.Uk)(" is not supported")])])}]]);var U={key:0},C={key:0,class:"large center"},N={class:"small"},O=(0,n._)("tr",null,[(0,n._)("th",null,"Submissions")],-1),M={key:0,class:"center"},L={key:1,class:"center"},H={key:2,class:"center"},R={key:3},q={key:0,class:"cl-preview yellow-pad"},j=["innerHTML"],P={key:1,class:"cl-analysis"},F={key:2},B={key:0,class:"cl-preview"},V=["href","target"],z=["src"],Z={class:"cl-preview-time"},G=["innerHTML"];var J=["src"],Y=["href"],X=["src"],K=["onClick"],W=["src","alt"],Q={class:"float-right"},tt=["src"],et=["href"],it=["src"],nt=["onClick"],st=["onClick"],rt=["src","alt"];var ot=Site.Site.MenuVue,at=["text/plain","text/html"],ut=["image/png","image/jpeg","image/gif"];const lt={props:["assigntag","tag","submission","analysis","teaming","type"],emits:["preview","preview_img","result"],data:function(){return{root:Site.root,toDownload:null}},components:{menuVue:ot},mounted:function(){var t=null!==this.teaming?"team":"course";this.toDownload="".concat(this.$site.root,"/cl/").concat(t,"/submission/download/").concat(this.submission.id)},methods:{isText:function(){return"program"!==this.type&&at.indexOf(this.submission.type)>=0},isImage:function(){return ut.indexOf(this.submission.type)>=0},display:function(){var t=this.$site.TimeFormatter.absoluteUNIX(this.submission.date,"long");return null!==this.submission.name&&(t+=": "+this.submission.name),void 0!==this.submission.by&&(t+=" by "+this.submission.by),t},selectText:function(){this.$emit("preview",this.submission)},select:function(){this.$emit("preview_img",this.submission)},showAnalysis:function(t){var e=this,i=null!==this.teaming?"team":"course";this.$site.api.get("/api/".concat(i,"/submission/analysis/").concat(this.assigntag,"/").concat(this.tag,"/").concat(t.tag,"/").concat(this.submission.id),{}).then((function(t){if(t.hasError())e.$site.toast(e,t);else{var i=t.getData("submission-analysis").attributes;e.$emit("result",i)}})).catch((function(t){e.$site.toast(e,t)}))}}},ct={props:["submission","submissions"],data:function(){return{previewTxt:null,previewImg:null,previewTime:null,result:null}},components:{submittedItem:(0,d.Z)(lt,[["render",function(t,e,i,s,r,o){var a=(0,n.up)("menu-vue");return(0,n.wg)(),(0,n.iD)("div",null,[o.isText()?((0,n.wg)(),(0,n.iD)("a",{key:0,onClick:e[0]||(e[0]=(0,n.iM)((function(t){return o.selectText()}),["prevent"]))},(0,n.zw)(o.display()),1)):o.isImage()?((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[(0,n._)("a",{onClick:e[1]||(e[1]=(0,n.iM)((function(){return o.select&&o.select.apply(o,arguments)}),["prevent"]))},(0,n.zw)(o.display()),1),(0,n.Wm)(a,{class:"float-right",onOpen:o.select},{default:(0,n.w5)((function(){return[(0,n._)("a",null,[(0,n._)("img",{src:t.root+"/vendor/cl/site/img/menubars.png",alt:"Menu"},null,8,J)]),(0,n._)("ul",null,[(0,n._)("li",null,[(0,n._)("a",{href:t.toDownload},[(0,n._)("img",{src:t.root+"/vendor/cl/site/img/download.png",alt:"Download"},null,8,X),(0,n.Uk)(" Download")],8,Y)]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.analysis,(function(t){return(0,n.wg)(),(0,n.iD)("li",null,[(0,n._)("a",{onClick:(0,n.iM)((function(e){return o.showAnalysis(t)}),["prevent"])},[(0,n._)("img",{src:t.icon,alt:t.menu},null,8,W),(0,n.Uk)(" "+(0,n.zw)(t.menu),1)],8,K)])})),256))])]})),_:1},8,["onOpen"])],64)):((0,n.wg)(),(0,n.j4)(a,{key:2,onOpen:o.select},{default:(0,n.w5)((function(){return[(0,n._)("a",null,(0,n.zw)(o.display()),1),(0,n._)("a",Q,[(0,n._)("img",{src:t.root+"/vendor/cl/site/img/menubars.png",alt:"Menu"},null,8,tt)]),(0,n._)("ul",null,[(0,n._)("li",null,[(0,n._)("a",{href:t.toDownload},[(0,n._)("img",{src:t.root+"/vendor/cl/site/img/download.png",alt:"Download"},null,8,it),(0,n.Uk)(" Download")],8,et)]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.analysis,(function(t){return(0,n.wg)(),(0,n.iD)("li",{onClick:(0,n.iM)((function(e){return o.showAnalysis(t)}),["stop"])},[(0,n._)("a",{onClick:(0,n.iM)((function(e){return o.showAnalysis(t)}),["prevent","stop"])},[(0,n._)("img",{src:t.icon,alt:t.menu},null,8,rt),(0,n.Uk)(" "+(0,n.zw)(t.menu),1)],8,st)],8,nt)})),256))])]})),_:1},8,["onOpen"]))])}]])},mounted:function(){var t=null!==this.submission.teaming?"team":"course";this.submissions.length>0&&"image/"===this.submissions[0].type.substr(0,6)&&(this.previewImg="".concat(this.$site.root,"/cl/").concat(t,"/submission/view/").concat(this.submissions[0].id),this.previewTime=this.$site.TimeFormatter.relativeUNIX(this.submissions[0].date)),void 0!==this.submission.preview&&(this.previewTxt=this.submission.preview.text,this.previewTime=this.$site.TimeFormatter.relativeUNIX(this.submission.preview.date))},watch:{submissions:function(){var t=null!==this.submission.teaming?"team":"course";this.submissions.length>0&&"image/"===this.submissions[0].type.substr(0,6)?this.previewImg="".concat(this.$site.root,"/cl/").concat(t,"/submission/view/").concat(this.submissions[0].id):this.previewImg=null}},methods:{previewer:function(t){var e=this;this.previewTxt="\n",this.previewTime="&nbsp;";var i=null===this.submission.teaming?"course":"team";this.$site.api.get("/api/".concat(i,"/submission/get/").concat(this.submission.assignTag,"/").concat(this.submission.tag,"/").concat(t.id),{}).then((function(t){if(t.hasError())e.$site.toast(e,t);else{var i=t.getData("submission").attributes;e.previewTxt=i.text,e.previewTime=e.$site.TimeFormatter.relativeUNIX(i.date)}})).catch((function(t){e.$site.toast(e,t)}))},preview_img:function(t){var e=null===this.submission.teaming?"course":"team";"image/"===t.type.substr(0,6)?(this.previewImg="".concat(this.$site.root,"/cl/").concat(e,"/submission/view/").concat(t.id),this.previewTime=this.$site.TimeFormatter.relativeUNIX(t.date)):this.previewImg=null},analysisResult:function(t){this.result=t}}},mt={props:["submission"],data:function(){return{staff:!1,submitter:"submit-text",submissions:[]}},components:{submitText:b,submitProgram:S,submitImage:A,submitUnknown:E,submitted:(0,d.Z)(ct,[["render",function(t,e,i,s,r,o){var a=(0,n.up)("submitted-item");return(0,n.wg)(),(0,n.iD)("div",null,[!0!==i.submission.manual?((0,n.wg)(),(0,n.iD)("div",U,[0===i.submissions.length?((0,n.wg)(),(0,n.iD)("p",C,"No submissions, yet.")):((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[(0,n._)("table",N,[O,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.submissions,(function(t){return(0,n.wg)(),(0,n.iD)("tr",null,[(0,n._)("td",null,[(0,n.Wm)(a,{type:i.submission.type,assigntag:i.submission.assignTag,tag:i.submission.tag,submission:t,analysis:i.submission.analysis,teaming:i.submission.teaming,onResult:o.analysisResult,onPreview_img:o.preview_img,onPreview:o.previewer},null,8,["type","assigntag","tag","submission","analysis","teaming","onResult","onPreview_img","onPreview"])])])})),256))]),"text"===i.submission.type?((0,n.wg)(),(0,n.iD)("p",M,"Click on any submission date to display the submission")):(0,n.kq)("v-if",!0),"program"===i.submission.type?((0,n.wg)(),(0,n.iD)("p",L,"Click on any submission for submission options")):(0,n.kq)("v-if",!0),"image"===i.submission.type?((0,n.wg)(),(0,n.iD)("p",H,"Click on any submission to view and for submission options")):(0,n.kq)("v-if",!0),null!==t.previewTxt?((0,n.wg)(),(0,n.iD)("div",R,[null!==t.previewTxt?((0,n.wg)(),(0,n.iD)("pre",q,(0,n.zw)(t.previewTxt),1)):(0,n.kq)("v-if",!0),(0,n._)("p",{class:"cl-preview-time",innerHTML:t.previewTime},null,8,j)])):(0,n.kq)("v-if",!0)],64))])):(0,n.kq)("v-if",!0),null!==t.result?((0,n.wg)(),(0,n.iD)("pre",P,(0,n.zw)(t.result),1)):(0,n.kq)("v-if",!0),null!==t.previewImg?((0,n.wg)(),(0,n.iD)("div",F,[null!==t.previewImg?((0,n.wg)(),(0,n.iD)("figure",B,[(0,n._)("a",{href:t.previewImg,target:"_"+i.submission.tag},[(0,n._)("img",{src:t.previewImg},null,8,z)],8,V)])):(0,n.kq)("v-if",!0),(0,n._)("p",Z,(0,n.zw)(t.previewTime),1)])):(0,n.kq)("v-if",!0),void 0!==i.submission.html?((0,n.wg)(),(0,n.iD)("div",{key:3,innerHTML:i.submission.html},null,8,G)):(0,n.kq)("v-if",!0)])}]])},mounted:function(){this.submissions=this.submission.submissions;var t=this.$store.state.user.user;switch(this.staff=t.atLeast(m.N.STAFF),this.submission.type){case"program":this.submitter="submit-program";break;case"text":this.submitter="submit-text";break;case"image":this.submitter="submit-image";break;default:this.submitter="submit-unknown"}},methods:{newSubmissions:function(t){this.submissions=t}}},ft=(0,d.Z)(mt,[["render",function(t,e,i,m,f,p){var h=(0,n.up)("submitted");return(0,n.wg)(),(0,n.iD)("div",s,[i.submission.submit?((0,n.wg)(),(0,n.iD)("div",r,[i.submission.open?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("div",o,[a,t.staff?((0,n.wg)(),(0,n.iD)("div",u,[l,((0,n.wg)(),(0,n.j4)((0,n.LL)(t.submitter),{submission:i.submission,onNew_submissions:p.newSubmissions},null,40,["submission","onNew_submissions"]))])):(0,n.kq)("v-if",!0)])),i.submission.open?((0,n.wg)(),(0,n.j4)((0,n.LL)(t.submitter),{key:1,submission:i.submission,onNew_submissions:p.newSubmissions},null,40,["submission","onNew_submissions"])):(0,n.kq)("v-if",!0)])):(0,n.kq)("v-if",!0),(0,n.Wm)(h,{submission:i.submission,submissions:t.submissions},null,8,["submission","submissions"]),null!==i.submission.additional?((0,n.wg)(),(0,n.iD)("div",{key:1,innerHTML:i.submission.additional,class:""},null,8,c)):(0,n.kq)("v-if",!0)])}]])}},t=>{t.O(0,[736,592],(()=>{return e=57924,t(t.s=e);var e}));t.O()}]);