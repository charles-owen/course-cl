"use strict";(self.webpackChunkcse335=self.webpackChunkcse335||[]).push([[148],{44932:(e,t,n)=>{n.d(t,{m:()=>i});var s="cl_students_only",i=function(){};i.get=function(){return"yes"===window.localStorage.getItem(s)},i.set=function(e){window.localStorage.setItem(s,e?"yes":"no")}},89024:(e,t,n)=>{var s=n(63255),i=n(66759),o={class:"content cl-members-editor"},r={class:"full"},l={key:0},a={key:0},u={class:"small"},c=(0,i._)("tr",null,[(0,i._)("th",{scope:"col"}),(0,i._)("th",{scope:"col"},"User"),(0,i._)("th",{scope:"col"},"Name"),(0,i._)("th",{scope:"col"},"Email"),(0,i._)("th",{scope:"col"},"Role"),(0,i._)("th",{scope:"col"},"Created")],-1),m={key:0,class:"cl-mgmt-options"},d=["src"],f=["onClick"],h=["src"],p={key:1},g={key:2},v={key:3},b=["onClick"],w=["src"],k={key:4},y=["onClick"],_={key:5},S=["onClick"],C=["href"],D={class:"small"},U={class:"small"},$={class:"center small"},x={key:1,class:"centerbox comp center"},T={key:1};var Z=n(75560),A={class:"cl-bulk-upload"},E=(0,i._)("h2",{id:"bulk"},"Bulk course membership uploading",-1),I=(0,i._)("p",null,"This option accepts files in CSV format as produced by instructor systems. ",-1),M=(0,i._)("legend",null,"Bulk Upload File",-1),V=(0,i._)("div",null,"File to upload: ",-1),z=(0,i._)("p",null,[(0,i._)("input",{type:"submit",value:"Press"}),(0,i.Uk)(" to upload the file!")],-1);var N=function(e){return(0,i.dD)("data-v-23f2b753"),e=e(),(0,i.Cn)(),e},q={id:"drops-component"},R=N((function(){return(0,i._)("p",null,"The following users are indicated as dropped from the uploaded course role. Select any you wish to flag as dropped in the system.",-1)})),O=N((function(){return(0,i._)("p",null,[(0,i.Uk)("Dropping a student does not remove them from the system, it only changes their status to "),(0,i._)("em",null,"dropped")],-1)})),L={scope:"col"},W=N((function(){return(0,i._)("th",{scope:"col"},"User",-1)})),j=N((function(){return(0,i._)("th",{scope:"col"},"Name",-1)})),F=N((function(){return(0,i._)("th",{scope:"col"},"Email",-1)})),H=N((function(){return(0,i._)("th",{scope:"col"},"Role",-1)})),Y=["onUpdate:modelValue"];const B={data:function(){return{drops:null,all:!1}},methods:{checkAll:function(e){var t=this;this.drops.forEach((function(e){e.drop=t.all}))}},mounted:function(){this.drops=this.$parent.drops}};var K=n(54571),P=n.n(K),G=n(50063),X=n.n(G),J=n(14971),Q=n.n(J),ee=n(78446),te=n.n(ee),ne=n(71984),se=n.n(ne),ie=n(63641),oe=n.n(ie),re=n(40627),le={};le.styleTagTransform=oe(),le.setAttributes=te(),le.insert=Q().bind(null,"head"),le.domAPI=X(),le.insertStyleElement=se();P()(re.Z,le);re.Z&&re.Z.locals&&re.Z.locals;var ae=n(87619);const ue=(0,ae.Z)(B,[["render",function(e,t,n,s,o,r){return(0,i.wg)(),(0,i.iD)("div",q,[R,O,(0,i._)("table",null,[(0,i._)("tr",null,[(0,i._)("th",L,[(0,i.wy)((0,i._)("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.all=t}),onChange:t[1]||(t[1]=(0,i.iM)((function(){return r.checkAll&&r.checkAll.apply(r,arguments)}),["prevent"]))},null,544),[[i.e8,e.all]])]),W,j,F,H]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.drops,(function(e){return(0,i.wg)(),(0,i.iD)("tr",null,[(0,i._)("td",null,[(0,i.wy)((0,i._)("input",{type:"checkbox","onUpdate:modelValue":function(t){return e.drop=t}},null,8,Y),[[i.e8,e.drop]])]),(0,i._)("td",null,(0,i.zw)(e.userId),1),(0,i._)("td",null,(0,i.zw)(e.name),1),(0,i._)("td",null,(0,i.zw)(e.email),1),(0,i._)("td",null,(0,i.zw)(e.roleName()),1)])})),256))])])}],["__scopeId","data-v-23f2b753"]]);Site.Vue;var ce=Site.VueHelper;const me={data:function(){return{bulkFiles:null}},methods:{bulkUpload:function(){var e=this;if(!(null===this.bulkFiles||this.bulkFiles.length<1)){var t=this.bulkFiles[0],n=new FileReader;n.onload=function(t){var n=e.$store.state.user.user.member,s={file:t.target.result,semester:n.semester,section:n.section};Site.api.post("/api/course/members/bulk",s).then((function(t){if(t.hasError())console.log(t),Site.toast(e,t);else{var n=t.getData("drops");if(null!==n&&n.attributes.length>0){var s=[];n.attributes.forEach((function(e){console.log(e);var t=new Site.User(e);t.drop=!1,s.push(t)})),new Z.Z({title:"Dropped Course Members",content:'<div id="drops"></div>',addClass:"cl-bulk-upload-dlg",buttons:[{contents:"Drop",focus:!0,click:function(t){t.close();var n=[];s.forEach((function(e){e.drop&&n.push(e.member.id)})),n.length>0?Site.api.post("/api/course/members/drops",{drops:n}).then((function(t){t.hasError()?(console.log(t),Site.toast(e,t)):window.history.go()})).catch((function(t){console.log(t),Site.toast(e,t)})):window.history.go()}},{contents:"Cancel",focus:!0,click:function(e){e.close()}}]});var i=ce.createApp({data:function(){return{drops:s}},template:'\n                      <drops :drops="drops"></drops>',components:{drops:ue}});i.config.globalProperties.$site=e.$site,i.mount("#drops")}else window.history.go()}})).catch((function(t){console.log(t),Site.toast(e,t)}))},n.onerror=function(e){Site.toast(this,"Error reading file")},n.onabort=function(e){Site.toast(this,"File read aborted")},n.readAsText(t)}}}};var de=n(58510),fe={};fe.styleTagTransform=oe(),fe.setAttributes=te(),fe.insert=Q().bind(null,"head"),fe.domAPI=X(),fe.insertStyleElement=se();P()(de.Z,fe);de.Z&&de.Z.locals&&de.Z.locals;const he=(0,ae.Z)(me,[["render",function(e,t,n,s,o,r){return(0,i.wg)(),(0,i.iD)("div",A,[E,I,(0,i._)("form",{class:"full",onSubmit:t[1]||(t[1]=(0,i.iM)((function(e){return r.bulkUpload()}),["prevent"])),method:"post",enctype:"multipart/form-data"},[(0,i._)("fieldset",null,[M,(0,i._)("div",null,[V,(0,i._)("div",null,[(0,i._)("p",null,[(0,i._)("input",{name:"bulkfile",type:"file",onChange:t[0]||(t[0]=function(t){return e.bulkFiles=t.target.files})},null,32)]),z])])])],32)])}]]);function pe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ge(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var s=0,i=function(){};return{s:i,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){l=!0,o=e},f:function(){try{r||null==n.return||n.return()}finally{if(l)throw o}}}}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var ve=Site.FetcherVue,be=Site.Vuex.mapState;const we={extends:Site.ConsoleComponentBase,props:["management"],data:function(){return{toUser:function(e){return this.root+"/cl/console/management/course/member/"+e.member.id},stats:""}},methods:{fetchMore:function(){this.$store.dispatch("members/more")},deleteUser:function(e){var t=this;new Z.Z.MessageBox("Are you sure?","Are you sure you want to delete "+e.name,Z.Z.MessageBox.OKCANCEL,(function(){t.$store.dispatch("members/delete",{id:e.member.id})}))},presentUser:function(e){var t='<div class="cl-dialog">\n<div class="tabular">\n<p><span class="label">User ID: </span><span>'.concat(e.userId,'</span></p>\n<p><span class="label">Name: </span><span>').concat(e.name,'</span></p>\n<p><span class="label">Email: </span><span>').concat(e.email,'</span></p>\n<p><span class="label">Role: </span><span>').concat(e.userRoleName(),"</span></p>\n</div>\n</div>");new Z.Z({content:t})},computeStats:function(){var e,t=[],n=pe(this.users);try{for(n.s();!(e=n.n()).done;){var s=e.value.role();void 0===t[s]?t[s]=1:t[s]++}}catch(e){n.e(e)}finally{n.f()}this.stats=this.users.length+" members";var i=this.$store.state.user.user.getRoles();for(var o in t){var r=i[o],l=void 0!==r.short?r.short:r.name;this.stats+=" / "+t[o]+" "+l}}},computed:be({users:function(e){return e.members.users},fetcher:function(e){return e.members.fetcher}}),watch:{users:{handler:function(e,t){this.computeStats()},immediate:!0,deep:!0}},components:{"bulk-upload":he,fetcher:ve},mounted:function(){var e=this;this.management&&(this.addComponent=this.$root.console.components.addNav2Link(this,"Add Member",5,(function(){e.$router.push(e.$site.root+"/cl/console/management/course/member/new")})));var t=this.$store.state.user.user.member,n={semester:t.semester,section:t.section};this.$store.commit("members/query",n),this.$root.setTitle(": ".concat(t.semester,"/").concat(t.section," Members")),this.management&&this.$store.commit("users/reset"),this.$store.dispatch("members/fetch")},beforeUnmount:function(){this.$root.console.components.removeNav2(this,this.addComponent)}},ke=(0,ae.Z)(we,[["render",function(e,t,n,s,Z,A){var E=(0,i.up)("router-link"),I=(0,i.up)("fetcher"),M=(0,i.up)("bulk-upload");return(0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("div",r,[e.fetcher.fetched?((0,i.wg)(),(0,i.iD)("div",l,[e.users.length>0?((0,i.wg)(),(0,i.iD)("div",a,[(0,i._)("table",u,[c,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.users,(function(t){return(0,i.wg)(),(0,i.iD)("tr",null,[n.management?((0,i.wg)(),(0,i.iD)("td",m,[(0,i.Wm)(E,{to:e.toUser(t)},{default:(0,i.w5)((function(){return[(0,i._)("img",{src:e.root+"/vendor/cl/site/img/pencil16.png",alt:"Edit",title:"Edit"},null,8,d)]})),_:2},1032,["to"]),(0,i.Uk)(" "),(0,i._)("a",{onClick:(0,i.iM)((function(e){return A.deleteUser(t)}),["prevent"])},[(0,i._)("img",{src:e.root+"/vendor/cl/site/img/x.png",alt:"Delete",title:"Delete"},null,8,h)],8,f)])):(0,i.kq)("v-if",!0),n.management?((0,i.wg)(),(0,i.iD)("td",p,[(0,i.Wm)(E,{to:e.toUser(t)},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,i.zw)(t.userId),1)]})),_:2},1032,["to"])])):(0,i.kq)("v-if",!0),n.management?((0,i.wg)(),(0,i.iD)("td",g,[(0,i.Wm)(E,{to:e.toUser(t)},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,i.zw)(t.name),1)]})),_:2},1032,["to"])])):(0,i.kq)("v-if",!0),n.management?(0,i.kq)("v-if",!0):((0,i.wg)(),(0,i.iD)("td",v,[(0,i._)("a",{onClick:(0,i.iM)((function(e){return A.presentUser(t)}),["prevent"]),href:"javascript:;"},[(0,i._)("img",{src:e.root+"/vendor/cl/site/img/info16.png",alt:"View",title:"View"},null,8,w)],8,b)])),n.management?(0,i.kq)("v-if",!0):((0,i.wg)(),(0,i.iD)("td",k,[(0,i._)("a",{onClick:(0,i.iM)((function(e){return A.presentUser(t)}),["prevent"]),href:"javascript:;"},(0,i.zw)(t.userId),9,y)])),n.management?(0,i.kq)("v-if",!0):((0,i.wg)(),(0,i.iD)("td",_,[(0,i._)("a",{onClick:(0,i.iM)((function(e){return A.presentUser(t)}),["prevent"]),href:"javascript:;"},(0,i.zw)(t.name),9,S)])),(0,i._)("td",null,[null!==t.email?((0,i.wg)(),(0,i.iD)("a",{key:0,href:"mailto:"+t.email},(0,i.zw)(t.email),9,C)):(0,i.kq)("v-if",!0)]),(0,i._)("td",D,(0,i.zw)(t.roleName(!0)),1),(0,i._)("td",U,(0,i.zw)(e.timeRelativeUNIX(t.member.created,null,"M-DD-YYYY")),1)])})),256))]),(0,i._)("p",$,[(0,i._)("em",null,(0,i.zw)(e.stats),1)])])):((0,i.wg)(),(0,i.iD)("p",x," There are currently no members enrolled in this section."))])):(0,i.kq)("v-if",!0),(0,i.Wm)(I,{fetcher:e.fetcher},null,8,["fetcher"]),e.fetcher.fetched?((0,i.wg)(),(0,i.iD)("div",T,[n.management?((0,i.wg)(),(0,i.j4)(M,{key:0})):(0,i.kq)("v-if",!0)])):(0,i.kq)("v-if",!0)])])}]]);var ye={class:"cl-member-editor content"},_e={class:"full"},Se=(0,i._)("input",{type:"hidden",name:"new",id:"new",value:""},null,-1),Ce=(0,i._)("br",null,null,-1),De=["disabled"],Ue={class:"form_text"},$e=(0,i._)("span",{class:"small"},"(last, first)",-1),xe=(0,i._)("br",null,null,-1),Te=["disabled"],Ze={class:"form_text"},Ae=(0,i._)("br",null,null,-1),Ee=["disabled"],Ie={class:"cl-radio-set"},Me=(0,i._)("div",{class:"label"},[(0,i._)("em",null,"Role:")],-1),Ve={class:"options"},ze=["value"],Ne={class:"center"},qe=(0,i._)("button",null,"Submit",-1),Re={key:0,class:"centerbox primary"};const Oe={props:["user"],data:function(){return{link:""}},watch:{user:function(e,t){var n=this.user,s=this.link;null!==n&&void 0!==n.prev?this.$root.console.components.nav2left={template:'\n            <router-link title="Previous Member" :to="link + user.prev.member.id"><img :src="icon"\n                                                                                       alt="Previous Member">\n            </router-link>',data:function(){return{icon:this.$site.root+"/cl/img/previcon.png",user:n,link:s}}}:this.$root.console.components.nav2left=null,null!==n&&void 0!==n.next?this.$root.console.components.nav2right={template:'\n            <router-link title="Next Member" :to="link + user.next.member.id"><img :src="icon" alt="Next Member">\n            </router-link>',data:function(){return{icon:this.$site.root+"/cl/img/nexticon.png",user:n,link:s}}}:this.$root.console.components.nav2right=null}},mounted:function(){var e=this.$route.path.match(/(^.*)\/([0-9]+)$/);null!==e&&(this.link=e[1]+"/")},beforeUnmount:function(){this.$root.console.components.nav2left=null,this.$root.console.components.nav2right=null}},Le=(0,ae.Z)(Oe,[["render",function(e,t,n,s,o,r){return(0,i.wg)(),(0,i.iD)("div")}]]);var We=Site.FetcherVue;const je={extends:Site.ConsoleComponentBase,props:["id"],data:function(){return{legend:"new"===this.id?"New Member":"Edit Member",roles:this.visibleRoles,edituser:null,userId:"",name:"",email:"",role:"T",timer:null,seq:1,fetched:!1}},watch:{userId:function(e,t){var n=this;null!==this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout((function(){n.fetch(e)}),300)},$route:function(e,t){this.take()}},computed:Site.Vuex.mapState({fetcher:function(e){return e.members.fetcher}}),components:{fetcher:We,prevNext:Le},beforeCreate:function(){var e=(new s.N).getRoles();for(var t in this.visibleRoles={},e)!0!==e[t].skip&&(this.visibleRoles[t]=e[t])},mounted:function(){this.take()},methods:{take:function(){var e=this;if("new"===this.id)this.$root.setTitle(": Add Course Member"),this.$nextTick((function(){e.$refs.userid.select()})),this.edituser=null;else{this.$root.setTitle(": Course Member");var t=this.$store.state.user.user.member,n={id:this.id,semester:t.semester,section:t.section};this.$store.dispatch("members/get",n).then((function(t){e.edituser=t,e.userId=t.userId,e.name=null!==t.name?t.name:"",e.email=null!==t.email?t.email:"",e.role=t.role(),e.fetched=!0,e.$nextTick((function(){e.$refs.userid.select()}))})).catch((function(t){e.$site.toast(e,t),setTimeout((function(){e.$router.push({name:"members"})}),3e3)}))}},fetch:function(e){var t=this;"new"===this.id&&(""!==(e=e.trim())?(this.seq++,this.$site.api.get("/api/users",{userId:e,seq:this.seq}).then((function(e){if(e.hasError())t.$site.toast(t,e);else{if(+e.getData("seq").id!==t.seq)return;var n=e.getData("users");if(null!==n)if(n.attributes.length<1)t.fetched=!1;else{t.fetched=!0;var s=n.attributes[0];t.name=null!==s.name?s.name:"",t.email=null!==s.email?s.email:""}}})).catch((function(e){console.log(e),t.$site.toast(t,e)}))):this.fetched=!1)},submit:function(){var e=this,t=this.$store.state.user.user.member,n={userId:this.userId,name:this.name,email:this.email,role:this.role,semester:t.semester,section:t.section};"new"!==this.id&&(n.id=this.id);var s="new"===this.id?"members/new":"members/update";this.$store.dispatch(s,n).then((function(){e.$router.push({name:"members"})})).catch((function(t){console.log(t),e.$site.toast(e,t)}))},cancel:function(){this.$router.push({name:"members"})}}},Fe=(0,ae.Z)(je,[["render",function(e,t,n,s,o,r){var l=(0,i.up)("prev-next"),a=(0,i.up)("fetcher"),u=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",ye,[(0,i._)("div",_e,[(0,i.Wm)(l,{user:e.edituser},null,8,["user"]),(0,i.Wm)(a,{fetcher:e.fetcher},null,8,["fetcher"]),(0,i._)("div",null,[(0,i._)("form",{class:"cl-common",onSubmit:t[5]||(t[5]=(0,i.iM)((function(){return r.submit&&r.submit.apply(r,arguments)}),["prevent"]))},[Se,(0,i._)("fieldset",null,[(0,i._)("legend",null,(0,i.zw)(e.legend),1),(0,i._)("p",null,[(0,i._)("label",null,[(0,i.Uk)("User ID"),Ce,(0,i.wy)((0,i._)("input",{disabled:"new"!==n.id,ref:"userid",type:"text","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.userId=t}),class:"short",size:"20",maxlength:"30"},null,8,De),[[i.nr,e.userId]])])]),(0,i._)("p",null,[(0,i._)("label",Ue,[(0,i.Uk)("Name "),$e,xe,(0,i.wy)((0,i._)("input",{disabled:e.fetched,type:"text","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.name=t}),maxlength:"150"},null,8,Te),[[i.nr,e.name]])])]),(0,i._)("p",null,[(0,i._)("label",Ze,[(0,i.Uk)("Email"),Ae,(0,i.wy)((0,i._)("input",{disabled:e.fetched,ref:"email",type:"email","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.email=t}),maxlength:"254"},null,8,Ee),[[i.nr,e.email]])])]),(0,i._)("div",Ie,[Me,(0,i._)("div",Ve,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.roles,(function(n,s){return(0,i.wg)(),(0,i.iD)("label",null,[(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.role=t}),name:"role",type:"radio",value:s},null,8,ze),[[i.G2,e.role]]),(0,i.Uk)(" "+(0,i.zw)(n.name),1)])})),256))])]),(0,i._)("p",Ne,[qe,(0,i.Uk)("  "),(0,i._)("button",{onClick:t[4]||(t[4]=(0,i.iM)((function(){return r.cancel&&r.cancel.apply(r,arguments)}),["prevent"]))},"Cancel")])])],32),null!==e.edituser&&"new"!==n.id?((0,i.wg)(),(0,i.iD)("p",Re,[(0,i.Uk)("User fields are not editable in this form. To go the "),(0,i.Wm)(u,{to:e.root+"/cl/console/management/user/"+e.edituser.id},{default:(0,i.w5)((function(){return[(0,i.Uk)("user editor page for "+(0,i.zw)(e.name),1)]})),_:1},8,["to"]),(0,i.Uk)(" to edit those fields.")])):(0,i.kq)("v-if",!0)])])])}]]);var He={key:0,class:"content"};var Ye={key:0,class:"cl-hot"},Be=["innerHTML"],Ke={key:1},Pe=["innerHTML"],Ge={ref:"editor"},Xe=(0,i._)("button",{type:"submit"},"Submit",-1);const Je={props:["item","hot"],mounted:function(){var e=this,t=this.$refs.editor;this.editor=new this.$site.Editor(t,{value:this.item.value,tab:!0,autoIndent:!0}),this.editor.textarea.addEventListener("keydown",(function(){e.changed()}))},methods:{changed:function(){var e=this;null!==this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout((function(){e.timer=null,e.item.value=e.$site.Sanitize.sanitize(e.editor.textarea.value)}),100)},submit:function(){var e=this;this.$site.api.post("/api/course/home/"+this.item.tag,{value:this.item.value}).then((function(t){t.hasError()?e.$site.toast(e,t):e.$site.toast(e,"Content successfully saved")})).catch((function(t){e.$site.toast(e,t)}))}}},Qe=(0,ae.Z)(Je,[["render",function(e,t,n,s,o,r){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("h2",null,(0,i.zw)(n.item.name),1),(0,i._)("form",{method:"post",onSubmit:t[0]||(t[0]=(0,i.iM)((function(e){return r.submit()}),["prevent"]))},["true"===n.hot?((0,i.wg)(),(0,i.iD)("div",Ye,[(0,i._)("div",{innerHTML:n.item.value},null,8,Be)])):((0,i.wg)(),(0,i.iD)("div",Ke,[(0,i._)("div",{innerHTML:n.item.value},null,8,Pe)])),(0,i._)("div",Ge,null,512),Xe],32)])}]]);const et={extends:Site.ConsoleComponentBase,data:function(){return{active:!1,hot:{name:"Hot",tag:"hot",value:""}}},components:{courseHomeItemEditor:Qe},created:function(){this.$root.setTitle(": Course Home Content");var e=this.user.member;this.section=this.$store.getters["course/section"](e.semester,e.section)},mounted:function(){var e=this;Site.api.get("/api/course/home",{}).then((function(t){if(t.hasError())Site.toast(e,t);else{var n=t.getData("course-home");e.set(n)}})).catch((function(t){console.log(t),Site.toast(e,t)}))},methods:{set:function(e){this.active=!0,this.hot.value=e.attributes.hot}}},tt=(0,ae.Z)(et,[["render",function(e,t,n,s,o,r){var l=(0,i.up)("course-home-item-editor");return e.active?((0,i.wg)(),(0,i.iD)("div",He,[(0,i.Wm)(l,{item:e.hot,hot:"true"},null,8,["item"])])):(0,i.kq)("v-if",!0)}]]);var nt={class:"cl-section-component"},st={key:0},it=function(e){return(0,i.dD)("data-v-58756191"),e=e(),(0,i.Cn)(),e}((function(){return(0,i._)("span",{class:"extra"},null,-1)}));var ot={key:0};const rt={data:function(){var e=this;return{course:this.$store.state.course.course,selected:"FS18/730",changeSection:function(){var t=e.selected.split("/"),n={semester:t[0],section:t[1]};Site.api.post("/api/course/members/sectionselect",n).then((function(t){if(t.hasError())Site.toast(e,t);else{var n=t.getData("user");e.$store.commit("user/set",n.attributes),e.$store.commit("members/reset"),window.history.go()}})).catch((function(t){Site.toast(e,t)}))}}},mounted:function(){var e=this.$store.state.user.user.member;this.selected=e.semester+"/"+e.section}};var lt=n(70453),at={};at.styleTagTransform=oe(),at.setAttributes=te(),at.insert=Q().bind(null,"head"),at.domAPI=X(),at.insertStyleElement=se();P()(lt.Z,at);lt.Z&&lt.Z.locals&&lt.Z.locals;const ut={props:["short"],data:function(){return{course:this.$store.state.course.course}},components:{"section-select":(0,ae.Z)(rt,[["render",function(e,t,n,s,o,r){return(0,i.wg)(),(0,i.iD)("span",null,[1===e.course.sections.length?((0,i.wg)(),(0,i.iD)("span",ot,(0,i.zw)(e.selected),1)):(0,i.kq)("v-if",!0),e.course.sections.length>1?(0,i.wy)(((0,i.wg)(),(0,i.iD)("select",{key:1,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.selected=t}),onChange:t[1]||(t[1]=function(){return e.changeSection&&e.changeSection.apply(e,arguments)})},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.course.sections,(function(e){return(0,i.wg)(),(0,i.iD)("option",null,(0,i.zw)(e.semester)+"/"+(0,i.zw)(e.id),1)})),256))],544)),[[i.bM,e.selected]]):(0,i.kq)("v-if",!0)])}],["__scopeId","data-v-2e27ec9c"]])}};var ct=n(53090),mt={};mt.styleTagTransform=oe(),mt.setAttributes=te(),mt.insert=Q().bind(null,"head"),mt.domAPI=X(),mt.insertStyleElement=se();P()(ct.Z,mt);ct.Z&&ct.Z.locals&&ct.Z.locals;const dt=(0,ae.Z)(ut,[["render",function(e,t,n,s,o,r){var l=(0,i.up)("section-select");return(0,i.wg)(),(0,i.iD)("div",nt,[n.short?(0,i.kq)("v-if",!0):((0,i.wg)(),(0,i.iD)("span",st,(0,i.zw)(e.course.name)+" "+(0,i.zw)(e.course.desc),1)),(0,i.Wm)(l),it])}],["__scopeId","data-v-58756191"]]);var ft={class:"content cl-assignments"},ht={class:"full"},pt={class:"small"},gt={key:0};const vt={extends:Site.ConsoleComponentBase,data:function(){return{section:null,assignmentLinks:this.$root.console.course.assignmentLinks}},computed:{},created:function(){this.$root.setTitle(": Assignments");var e=this.user.member;this.section=this.$store.getters["course/section"](e.semester,e.section)},methods:{assignmentLink:function(e,t){return this.$site.root+"/cl/console"+t.replace(":assigntag",e.tag)},links:function(e){return this.assignmentLinks.filter((function(t){return void 0!==e[t.property]&&!1!==e[t.property]}))}}},bt=(0,ae.Z)(vt,[["render",function(e,t,n,s,o,r){var l=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",ft,[(0,i._)("div",ht,[(0,i._)("p",null,(0,i.zw)(e.section.name),1),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.section.assignments.categories,(function(t){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("h2",null,(0,i.zw)(t.name),1),(0,i._)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.assignments,(function(t){return(0,i.wg)(),(0,i.iD)("li",{key:t.tag},[(0,i.Uk)((0,i.zw)(t.name)+" ",1),(0,i._)("span",pt,[(0,i._)("span",null,[(0,i.Wm)(l,{to:e.root+"/cl/console/course/dates/"+t.tag},{default:(0,i.w5)((function(){return[(0,i.Uk)("dates")]})),_:2},1032,["to"]),(0,i.Uk)("  ")]),(0,i._)("span",null,[(0,i.Wm)(l,{to:e.root+"/cl/console/course/extensions/"+t.tag},{default:(0,i.w5)((function(){return[(0,i.Uk)("extensions")]})),_:2},1032,["to"]),(0,i.Uk)("  ")]),void 0!==t.submissions?((0,i.wg)(),(0,i.iD)("span",gt,[(0,i.Wm)(l,{to:e.root+"/cl/console/course/submissions/"+t.tag},{default:(0,i.w5)((function(){return[(0,i.Uk)("submissions")]})),_:2},1032,["to"]),(0,i.Uk)("  ")])):(0,i.kq)("v-if",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.links(t),(function(e){return(0,i.wg)(),(0,i.iD)("span",null,[(0,i.Wm)(l,{to:r.assignmentLink(t,e.route)},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,i.zw)(e.name),1)]})),_:2},1032,["to"]),(0,i.Uk)("  ")])})),256))])])})),128))])])})),256))])])}]]);var wt={class:"content cl-extensions"},kt={class:"full"},yt={key:0,class:"small"},_t=(0,i._)("tr",null,[(0,i._)("th",null,"User"),(0,i._)("th",null,"Name"),(0,i._)("th",null,"Role"),(0,i._)("th",null,"Extension")],-1),St=(0,i._)("a",{"data-toggle":"",title:"Toggle Calendar"},[(0,i._)("span",{class:"icons-cl icons-cl-calendar"})],-1),Ct={"data-clear":""},Dt=["src"];var Ut=n(3326),$t=n(88121);n(18516);const xt={extends:Site.ConsoleComponentBase,props:["assigntag"],data:function(){return{assignment:null,date:null,extensions:null,test:null,fpConfig:{enableTime:!0,dateFormat:"m-d-Y h:iK",defaultHour:23,defaultMinute:55,wrap:!0}}},components:{membersfetcher:Ut.Z,flatPickr:$t.Z},mounted:function(){var e=this,t=this.$store.state.user.user.member;this.section=this.$store.getters["course/section"](t.semester,t.section),this.assignment=this.section.getAssignment(this.assigntag),this.setTitle(": "+this.assignment.shortname+" Extensions");var n={semester:t.semester,section:t.section};Site.api.get("/api/course/members/meta/get/extensions/"+this.assigntag,n).then((function(t){if(t.hasError())Site.toast(e,t);else{var n=t.getData("member-meta");if(null!==n)for(var s in e.extensions=[],n.attributes){var i=n.attributes[s];e.extensions[+s]=null==i?"":1e3*i}}})).catch((function(t){console.log(t),Site.toast(e,t)}))},methods:{change:function(e,t){var n=this,s=e[0],i={value:""!==s?new Date(s).getTime()/1e3:null};Site.api.post("/api/course/members/meta/set/".concat(t.member.id,"/extensions/").concat(this.assigntag),i).then((function(e){e.hasError()&&Site.toast(n,e)})).catch((function(e){console.log(e),Site.toast(n,e)}))},clear:function(e){Site.Vue.set(this.extensions,+e.member.id,"")}}};var Tt=n(51819),Zt={};Zt.styleTagTransform=oe(),Zt.setAttributes=te(),Zt.insert=Q().bind(null,"head"),Zt.domAPI=X(),Zt.insertStyleElement=se();P()(Tt.Z,Zt);Tt.Z&&Tt.Z.locals&&Tt.Z.locals;const At=(0,ae.Z)(xt,[["render",function(e,t,n,s,o,r){var l=(0,i.up)("flat-pickr"),a=(0,i.up)("membersfetcher");return(0,i.wg)(),(0,i.iD)("div",wt,[(0,i._)("div",kt,[(0,i.Wm)(a,{fetching:null===e.extensions},{default:(0,i.w5)((function(t){return[null!==e.extensions?((0,i.wg)(),(0,i.iD)("table",yt,[_t,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.users,(function(t){return(0,i.wg)(),(0,i.iD)("tr",null,[(0,i._)("td",null,(0,i.zw)(t.userId),1),(0,i._)("td",null,(0,i.zw)(t.name),1),(0,i._)("td",null,(0,i.zw)(t.roleName()),1),(0,i._)("td",null,[(0,i._)("div",null,[(0,i.Wm)(l,{modelValue:e.extensions[+t.member.id],"onUpdate:modelValue":function(n){return e.extensions[+t.member.id]=n},config:e.fpConfig,onOnChange:function(e){return r.change(e,t)},"data-input":""},null,8,["modelValue","onUpdate:modelValue","config","onOnChange"]),St,(0,i.Uk)(),(0,i._)("a",Ct,[(0,i._)("img",{src:e.root+"/cl/img/x.png",alt:"delete",title:"Delete"},null,8,Dt)])])])])})),256))])):(0,i.kq)("v-if",!0)]})),_:1},8,["fetching"])])])}]]);var Et={class:"content cl-assignment-dates"},It={class:"full"},Mt={key:0,class:"cl-form-common"},Vt={class:"cl-form-border cl-center"},zt=(0,i._)("div",{class:"cl-form-legend"},"Assignment Dates",-1),Nt={style:{display:"inline-block"}},qt={class:"cl-no-expand"},Rt=(0,i._)("br",null,null,-1),Ot=(0,i._)("a",{"data-toggle":"",title:"Toggle Calendar"},[(0,i._)("span",{class:"icons-cl icons-cl-calendar"})],-1),Lt={"data-clear":""},Wt=["src"],jt={class:"cl-no-expand"},Ft=(0,i._)("br",null,null,-1),Ht=(0,i._)("a",{"data-toggle":"",title:"Toggle Calendar"},[(0,i._)("span",{class:"icons-cl icons-cl-calendar"})],-1),Yt={"data-clear":""},Bt=["src"],Kt={key:0},Pt={key:0},Gt={class:"cl-no-expand"},Xt=(0,i._)("br",null,null,-1),Jt=(0,i._)("a",{"data-toggle":"",title:"Toggle Calendar"},[(0,i._)("span",{class:"icons-cl icons-cl-calendar"})],-1),Qt={"data-clear":""},en=["src"],tn={class:"cl-center"},nn=(0,i._)("p",{class:"centerbox primary"},"Dynamic assignment date revisions override those in the assignments specification file. Once set, the revisions replace the results from the assignments specification file. Clear removes the dynamic assignments as specified on this page and restores the assignments specified in the assignments specification file.",-1);const sn={extends:Site.ConsoleComponentBase,props:["assigntag"],data:function(){return{assignment:null,date:null,release:null,released:!1,due:null,revised:!1,hasReviews:!0,review:null,fetched:!1,fpConfig:{enableTime:!0,dateFormat:"m/d/Y h:iK",defaultHour:23,defaultMinute:55,wrap:!0}}},components:{flatPickr:$t.Z},mounted:function(){var e=this.$store.state.user.user.member;this.section=this.$store.getters["course/section"](e.semester,e.section),this.assignment=this.section.getAssignment(this.assigntag),this.setTitle(": "+this.assignment.shortname+" Dates"),this.load()},methods:{set:function(e){null!==e&&(this.fetched=!0,"open"===e.attributes.release?(this.release="",this.released=!0):"none"===e.attributes.release?(this.release="",this.released=!1):(this.release=new Date(1e3*e.attributes.release).toISOString(),this.released=!0),"none"!==e.attributes.due?this.due=new Date(1e3*e.attributes.due).toISOString():this.due="",this.revised="yes"===e.attributes.revised,void 0===e.attributes.review?this.hasReviews=!1:"none"===e.attributes.review?(this.hasReviews=!0,this.review=""):(this.hasReviews=!0,this.review=new Date(1e3*e.attributes.review).toISOString()))},changeRelease:function(e){e.length>0&&""!==e[0]&&(this.released=!0)},changeReleased:function(e){this.released||(this.release="")},send:function(){var e=this,t={revised:this.revised?"yes":"no"};this.released?""===this.release?t.release="open":t.release=this.release:t.release="none",""===this.due?t.due="none":t.due=this.due,this.hasReviews&&(""===this.review?t.review="none":t.review=this.review),Site.api.post("/api/course/dates/".concat(this.assigntag),t).then((function(t){if(t.hasError())Site.toast(e,t);else{Site.toast(e,"Assignment date revisions set");var n=t.getData("assignment-dates");e.set(n)}})).catch((function(t){console.log(t),Site.toast(e,t)}))},clear:function(){var e=this;this.fetched=!1,Site.api.post("/api/course/dates/".concat(this.assigntag,"/clear"),{}).then((function(t){t.hasError()?Site.toast(e,t):(Site.toast(e,"Assignment date revisions cleared"),e.load())})).catch((function(t){console.log(t),Site.toast(e,t)}))},load:function(){var e=this;Site.api.get("/api/course/dates/"+this.assigntag,{}).then((function(t){if(t.hasError())Site.toast(e,t);else{var n=t.getData("assignment-dates");e.set(n)}})).catch((function(t){console.log(t),Site.toast(e,t)}))}}},on=(0,ae.Z)(sn,[["render",function(e,t,n,s,o,r){var l=(0,i.up)("flat-pickr");return(0,i.wg)(),(0,i.iD)("div",Et,[(0,i._)("div",It,[e.fetched?((0,i.wg)(),(0,i.iD)("div",Mt,[(0,i._)("div",Vt,[zt,(0,i._)("div",Nt,[(0,i._)("p",null,[(0,i._)("span",qt,[(0,i._)("label",null,[(0,i.Uk)("Release"),Rt,(0,i.Wm)(l,{modelValue:e.release,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.release=t}),config:e.fpConfig,onOnChange:t[1]||(t[1]=function(e){return r.changeRelease(e)}),"data-input":""},null,8,["modelValue","config"]),Ot,(0,i.Uk)(),(0,i._)("a",Lt,[(0,i._)("img",{src:e.root+"/cl/img/x.png",alt:"delete",title:"Delete"},null,8,Wt)])]),(0,i.Uk)("  "),(0,i._)("label",null,[(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.released=t}),onChange:t[3]||(t[3]=function(e){return r.changeReleased(e)}),type:"checkbox"},null,544),[[i.e8,e.released]]),(0,i.Uk)(" Released")])])]),(0,i._)("p",null,[(0,i._)("span",jt,[(0,i._)("label",null,[(0,i.Uk)("Due"),Ft,(0,i.Wm)(l,{modelValue:e.due,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.due=t}),config:e.fpConfig,"data-input":""},null,8,["modelValue","config"]),Ht,(0,i.Uk)(),(0,i._)("a",Yt,[(0,i._)("img",{src:e.root+"/cl/img/x.png",alt:"delete",title:"Delete"},null,8,Bt)])]),(0,i.Uk)("  "),""!==e.due?((0,i.wg)(),(0,i.iD)("label",Kt,[(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.revised=t}),type:"checkbox"},null,512),[[i.e8,e.revised]]),(0,i.Uk)(" Revised")])):(0,i.kq)("v-if",!0)])]),e.hasReviews?((0,i.wg)(),(0,i.iD)("p",Pt,[(0,i._)("span",Gt,[(0,i._)("label",null,[(0,i.Uk)("Reviews"),Xt,(0,i.Wm)(l,{modelValue:e.review,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.review=t}),config:e.fpConfig,"data-input":""},null,8,["modelValue","config"]),Jt,(0,i.Uk)(),(0,i._)("a",Qt,[(0,i._)("img",{src:e.root+"/cl/img/x.png",alt:"delete",title:"Delete"},null,8,en)])])])])):(0,i.kq)("v-if",!0),(0,i._)("p",tn,[(0,i._)("button",{onClick:t[7]||(t[7]=function(){return r.send&&r.send.apply(r,arguments)})},"Set"),(0,i.Uk)("   "),(0,i._)("button",{onClick:t[8]||(t[8]=function(){return r.clear&&r.clear.apply(r,arguments)})},"Clear")])])])])):(0,i.kq)("v-if",!0),nn])])}]]);var rn={class:"content"},ln={class:"full"},an=(0,i._)("p",{class:"center"},"Click on a user to view submissions for that user.",-1),un={class:"small"},cn=(0,i._)("tr",null,[(0,i._)("th",null,"User"),(0,i._)("th",null,"Name"),(0,i._)("th",null,"Role")],-1);var mn={class:"cl-submissions-bulk"},dn={key:0,class:"center"},fn=["onClick"],hn=["onClick"],pn=["src"],gn={key:1},vn=["onUpdate:modelValue"],bn=["onUpdate:modelValue"],wn={key:2},kn=(0,i._)("br",null,null,-1);function yn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return _n(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _n(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var s=0,i=function(){};return{s:i,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){l=!0,o=e},f:function(){try{r||null==n.return||n.return()}finally{if(l)throw o}}}}function _n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}const Sn={extends:Site.ConsoleComponentBase,props:["assignment"],data:function(){return{links:[],from:"",to:""}},watch:{assignment:function(){this.take()}},computed:{},mounted:function(){this.take()},methods:{take:function(){if(this.links=[],null!==this.assignment&&void 0!==this.assignment.submissions){var e,t=yn(this.assignment.submissions);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(!0===n.bulk){var i={text:"Bulk download of "+n.name,url:"/cl/course/submissions/"+this.assignment.tag+"/"+n.tag,from:"",to:"",range:!1,atLeast:s.N.STAFF};this.links.push(i)}if(void 0!==n.links){var o,r=yn(n.links);try{for(r.s();!(o=r.n()).done;){var l=o.value;this.links.push(l)}}catch(e){r.e(e)}finally{r.f()}}}}catch(e){t.e(e)}finally{t.f()}}},click:function(e){var t=this.root+e.url;void 0===e.from||void 0===e.to||""===e.from.trim()&&""===e.to.trim()||(t+="?fm="+encodeURIComponent(e.from.trim())+"&to="+encodeURIComponent(e.to.trim())),window.location.href=t}}};var Cn=n(80874),Dn={};Dn.styleTagTransform=oe(),Dn.setAttributes=te(),Dn.insert=Q().bind(null,"head"),Dn.domAPI=X(),Dn.insertStyleElement=se();P()(Cn.Z,Dn);Cn.Z&&Cn.Z.locals&&Cn.Z.locals;const Un=(0,ae.Z)(Sn,[["render",function(e,t,n,s,o,r){return(0,i.wg)(),(0,i.iD)("div",mn,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.links,(function(t){return(0,i.wg)(),(0,i.iD)(i.HY,null,[e.user.atLeast(t.atLeast)?((0,i.wg)(),(0,i.iD)("p",dn,[(0,i._)("a",{onClick:(0,i.iM)((function(e){return r.click(t)}),["prevent"])},(0,i.zw)(t.text),9,fn),void 0===t.from||t.range?(0,i.kq)("v-if",!0):((0,i.wg)(),(0,i.iD)("a",{key:0,title:"Enable Range",onClick:(0,i.iM)((function(e){return t.range=!0}),["prevent"])},[(0,i._)("img",{src:e.root+"/cl/img/range.png",alt:"Enable Range",width:"26",height:"10"},null,8,pn)],8,hn)),t.range?((0,i.wg)(),(0,i.iD)("span",gn,[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":function(e){return t.from=e}},null,8,vn),[[i.nr,t.from]]),(0,i.Uk)(" to "),(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":function(e){return t.to=e}},null,8,bn),[[i.nr,t.to]])])):(0,i.kq)("v-if",!0),t.range?((0,i.wg)(),(0,i.iD)("span",wn,[kn,(0,i.Uk)("Enter from/to range for user id.")])):(0,i.kq)("v-if",!0)])):(0,i.kq)("v-if",!0)],64)})),256))])}]]);const $n={extends:Site.ConsoleComponentBase,props:["assigntag"],data:function(){return{link:Site.root+"/cl/console/course/submissions/"+this.assigntag+"/",assignment:null}},components:{membersfetcher:Ut.Z,submissionsLinks:Un},mounted:function(){var e=this.$store.state.user.user.member;e.semester,e.section;this.section=this.$store.getters["course/section"](e.semester,e.section),this.assignment=this.section.getAssignment(this.assigntag),this.$root.setTitle(": "+this.assignment.shortname+" Submissions")}},xn=(0,ae.Z)($n,[["render",function(e,t,n,s,o,r){var l=(0,i.up)("submissions-links"),a=(0,i.up)("router-link"),u=(0,i.up)("membersfetcher");return(0,i.wg)(),(0,i.iD)("div",rn,[(0,i._)("div",ln,[(0,i.Wm)(u,null,{default:(0,i.w5)((function(t){return[an,(0,i.Wm)(l,{assignment:e.assignment},null,8,["assignment"]),(0,i._)("table",un,[cn,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.users,(function(t){return(0,i.wg)(),(0,i.iD)("tr",null,[(0,i._)("td",null,[(0,i.Wm)(a,{to:e.link+t.member.id},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,i.zw)(t.userId),1)]})),_:2},1032,["to"])]),(0,i._)("td",null,[(0,i.Wm)(a,{to:e.link+t.member.id},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,i.zw)(t.name),1)]})),_:2},1032,["to"])]),(0,i._)("td",null,(0,i.zw)(t.roleName()),1)])})),256))])]})),_:1})])])}]]);var Tn={class:"content"},Zn={class:"full"},An={key:0};const En={props:["user","assigntag"],data:function(){return{assignment:null,submissions:[]}},watch:{user:function(){this.submissions=[],this.fetch(this.user)}},components:{submissionVue:n(87480).Z},mounted:function(){this.fetch(this.user)},methods:{fetch:function(e){var t=this;e.member.getSection(this.$store);this.assignment=e.member.getAssignment(this.$store,this.assigntag),void 0!==this.assignment.submissions?this.$site.api.get("/api/course/submission/submissions/"+this.assigntag+"/"+e.member.id,{}).then((function(n){if(n.hasError())t.$site.toast(t,n);else{var s=n.getDataAll("submissions");t.submissions=[];for(var i=0;i<s.length;i++)t.submissions.push(s[i].attributes),t.submissions[i].user=e}})).catch((function(e){t.$site.toast(t,e)})):this.submissions=[]}}},In=(0,ae.Z)(En,[["render",function(e,t,n,s,o,r){var l=(0,i.up)("submission-vue");return(0,i.wg)(),(0,i.iD)("div",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.submissions,(function(e){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("h2",null,(0,i.zw)(e.name),1),(0,i.Wm)(l,{submission:e},null,8,["submission"])])})),256))])}]]);var Mn=n(44932);const Vn={props:{id:{default:0},faillink:{default:null}},emits:["fetched"],data:function(){return{user:null}},watch:{id:function(e,t){this.fetch()}},mounted:function(){this.fetch()},components:{fetcher:Site.FetcherVue},methods:{fetch:function(){var e=this,t=this.$store.state.user.user.member,n={id:this.id,semester:t.semester,section:t.section};Mn.m.get()&&(n.role=s.N.STUDENT),this.$store.dispatch("members/get",n).then((function(t){e.user=t,e.userId=t.userId,e.$emit("fetched",e.user)})).catch((function(t){Site.toast(e,t),null!==e.faillink&&setTimeout((function(){e.$router.push({path:Site.root+e.faillink})}),3e3)}))}}},zn=(0,ae.Z)(Vn,[["render",function(e,t,n,s,o,r){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.WI)(e.$slots,"default",{user:e.user})])}]]);const Nn={extends:Site.ConsoleComponentBase,props:["assigntag","memberid"],data:function(){return{submissionsLink:"/cl/console/course/submissions/"+this.assigntag}},components:{memberfetcher:zn,prevNext:Le,submissions:In},mounted:function(){this.$root.setTitle(": Submissions"),this.addNav2Link("Exit",4,"/cl/console/course/submissions/"+this.assigntag)},methods:{fetched:function(e){var t=e.member.getAssignment(this.$store,this.assigntag);this.$root.setTitle(": "+e.name+" "+t.shortname+" Submissions")}}},qn=(0,ae.Z)(Nn,[["render",function(e,t,n,s,o,r){var l=(0,i.up)("prev-next"),a=(0,i.up)("submissions"),u=(0,i.up)("memberfetcher");return(0,i.wg)(),(0,i.iD)("div",Tn,[(0,i._)("div",Zn,[(0,i.Wm)(u,{onFetched:r.fetched,id:n.memberid,faillink:e.submissionsLink},{default:(0,i.w5)((function(e){return[(0,i.Wm)(l,{user:e.user},null,8,["user"]),null!==e.user?((0,i.wg)(),(0,i.iD)("div",An,[(0,i.Wm)(a,{user:e.user,assigntag:n.assigntag},null,8,["user","assigntag"])])):(0,i.kq)("v-if",!0)]})),_:1},8,["onFetched","id","faillink"])])])}]]);var Rn={class:"content"},On={class:"full"},Ln=["ensure"],Wn={class:"center"},jn=(0,i._)("th",null,"User",-1),Fn=(0,i._)("th",null,"Name",-1),Hn=(0,i._)("th",null,"Email",-1),Yn=(0,i._)("th",null,"Role",-1),Bn=["onUpdate:modelValue"],Kn=["href"];var Pn={class:"to"},Gn={key:0,class:"no-email"},Xn={key:1},Jn={key:0},Qn={class:"subject"},es={ref:"editor"},ts={class:"buttons"},ns=function(e){return(0,i.dD)("data-v-4948184f"),e=e(),(0,i.Cn)(),e}((function(){return(0,i._)("input",{type:"submit",value:"Send"},null,-1)}));function ss(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return is(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return is(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var s=0,i=function(){};return{s:i,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){l=!0,o=e},f:function(){try{r||null==n.return||n.return()}finally{if(l)throw o}}}}function is(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var os=Site.Site.MaskVue;const rs={props:["to"],emits:["cancel","done"],data:function(){return{displayTo:[],subject:"",mask:!1}},components:{maskVue:os},mounted:function(){var e=this.$refs.editor;this.editor=new this.$site.Editor(e,{tab:!0,autoIndent:!0}),this.displayTo=[];for(var t=0;t<this.to.length&&t<10;t++)this.displayTo.push(this.to[t])},methods:{cancel:function(){this.$emit("cancel")},submit:function(){var e=this;if(!this.mask){var t=this.subject.trim();if(""!==t){var n=this.editor.textarea.value;if(""!==n){var s,i=[],o=ss(this.to);try{for(o.s();!(s=o.n()).done;){var r=s.value;null!==r.email&&i.push({name:r.name,email:r.email})}}catch(e){o.e(e)}finally{o.f()}if(0!==i.length){var l={to:i,subject:t,message:n};this.mask=!0,this.$site.api.post("/api/course/email",l).then((function(t){e.mask=!1,t.hasError()?e.$site.toast(e,t):e.$emit("done")})).catch((function(t){e.mask=!1,e.$site.toast(e,t)}))}else this.$emit("done")}else this.$site.toast(this,"Must provide a message")}else this.$site.toast(this,"Must provide a subject")}}}};var ls=n(52251),as={};as.styleTagTransform=oe(),as.setAttributes=te(),as.insert=Q().bind(null,"head"),as.domAPI=X(),as.insertStyleElement=se();P()(ls.Z,as);ls.Z&&ls.Z.locals&&ls.Z.locals;const us=(0,ae.Z)(rs,[["render",function(e,t,n,s,o,r){var l=(0,i.up)("mask-vue");return(0,i.wg)(),(0,i.iD)("form",{onSubmit:t[2]||(t[2]=(0,i.iM)((function(){return r.submit&&r.submit.apply(r,arguments)}),["prevent"]))},[(0,i.Wm)(l,{mask:e.mask},{default:(0,i.w5)((function(){return[(0,i.Uk)("Sending Email...")]})),_:1},8,["mask"]),(0,i._)("div",Pn,[(0,i.Uk)("To "),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.displayTo,(function(e){return(0,i.wg)(),(0,i.iD)("div",{key:e.id},[(0,i.Uk)((0,i.zw)(e.name)+" <",1),null===e.email?((0,i.wg)(),(0,i.iD)("span",Gn,"no email")):((0,i.wg)(),(0,i.iD)("span",Xn,(0,i.zw)(e.email),1)),(0,i.Uk)("> ")])})),128)),this.to.length>this.displayTo.length?((0,i.wg)(),(0,i.iD)("div",Jn,"...")):(0,i.kq)("v-if",!0)]),(0,i._)("div",Qn,[(0,i._)("label",null,[(0,i.Uk)("Subject "),(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.subject=t})},null,512),[[i.nr,e.subject]])])]),(0,i._)("div",es,null,512),(0,i._)("p",ts,[ns,(0,i._)("input",{type:"button",value:"Cancel",onClick:t[1]||(t[1]=(0,i.iM)((function(){return r.cancel&&r.cancel.apply(r,arguments)}),["prevent"]))})])],32)}],["__scopeId","data-v-4948184f"]]);function cs(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ms(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ms(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var s=0,i=function(){};return{s:i,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){l=!0,o=e},f:function(){try{r||null==n.return||n.return()}finally{if(l)throw o}}}}function ms(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}const ds={extends:Site.ConsoleComponentBase,data:function(){return{all:!1,flags:{},users:{},composing:!1,toUsers:[]}},components:{membersfetcher:Ut.Z,emailEditor:us},mounted:function(){this.$store.state.user.user.member;this.setTitle(": Course Email"),this.addSendEmail()},methods:{allChange:function(){for(var e in this.flags)this.flags[e]=this.all},ensure:function(e){var t,n=cs(e);try{for(n.s();!(t=n.n()).done;){var s=t.value;void 0===this.flags[s.id]&&(this.flags[s.id]=!1,this.users[s.id]=s)}}catch(e){n.e(e)}finally{n.f()}},addSendEmail:function(){var e=this;this.sendEmail=this.addNav2("Send Email",3,(function(){for(var t in e.toUsers=[],e.flags)e.flags[t]&&e.toUsers.push(e.users[t]);0!==e.toUsers.length?(e.removeNav2(e.sendEmail),e.composing=!0):new Z.Z.MessageBox("No indicated members!","Must specify members to send email to.",Z.Z.MessageBox.OK,(function(){}))}))},cancelEmail:function(){this.composing=!1,this.addSendEmail()},doneSending:function(){for(var e in this.composing=!1,this.all=!1,this.flags)this.flags[e]=!1;this.addSendEmail()}}};var fs=n(90787),hs={};hs.styleTagTransform=oe(),hs.setAttributes=te(),hs.insert=Q().bind(null,"head"),hs.domAPI=X(),hs.insertStyleElement=se();P()(fs.Z,hs);fs.Z&&fs.Z.locals&&fs.Z.locals;const ps=(0,ae.Z)(ds,[["render",function(e,t,n,s,o,r){var l=(0,i.up)("membersfetcher"),a=(0,i.up)("email-editor");return(0,i.wg)(),(0,i.iD)("div",Rn,[(0,i._)("div",On,[e.composing?((0,i.wg)(),(0,i.j4)(a,{key:1,onCancel:r.cancelEmail,onDone:r.doneSending,to:e.toUsers},null,8,["onCancel","onDone","to"])):((0,i.wg)(),(0,i.j4)(l,{key:0},{default:(0,i.w5)((function(n){return[(0,i._)("table",{class:"small",ensure:r.ensure(n.users)},[(0,i._)("tr",null,[(0,i._)("th",Wn,[(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.all=t}),type:"checkbox",onChange:t[1]||(t[1]=function(){return r.allChange&&r.allChange.apply(r,arguments)})},null,544),[[i.e8,e.all]])]),jn,Fn,Hn,Yn]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.users,(function(t){return(0,i.wg)(),(0,i.iD)("tr",{key:t.id},[(0,i._)("td",null,[(0,i.wy)((0,i._)("input",{type:"checkbox","onUpdate:modelValue":function(n){return e.flags[t.id]=n}},null,8,Bn),[[i.e8,e.flags[t.id]]])]),(0,i._)("td",null,(0,i.zw)(t.userId),1),(0,i._)("td",null,(0,i.zw)(t.name),1),(0,i._)("td",null,[(0,i._)("a",{href:"mailto:"+t.email},(0,i.zw)(t.email),9,Kn)]),(0,i._)("td",null,(0,i.zw)(t.roleName()),1)])})),128))],8,Ln)]})),_:1}))])])}]]);var gs={class:"content"},vs={class:"full"},bs={class:"small"},ws=(0,i._)("tr",null,[(0,i._)("th",null,"User"),(0,i._)("th",null,"Name"),(0,i._)("th",null,"Role")],-1),ks=["onClick"],ys=["onClick"];const _s={extends:Site.ConsoleComponentBase,components:{membersfetcher:Ut.Z},mounted:function(){this.setTitle(": Member Spoofing")},computed:{availableUsers:function(e){var t=this;return console.log(e),(0,i.IU)(e).filter((function(e){return t.user.atLeast(e.role())}))}},methods:{select:function(e){var t=this,n={user:e.id,member:e.member.id};this.$site.api.post("/api/course/members/spoof",n).then((function(e){e.hasError()?t.$site.toast(t,e):window.location=t.root+"/"})).catch((function(e){t.$site.toast(t,e)}))}}},Ss=(0,ae.Z)(_s,[["render",function(e,t,n,s,o,r){var l=(0,i.up)("membersfetcher");return(0,i.wg)(),(0,i.iD)("div",gs,[(0,i._)("div",vs,[(0,i.Wm)(l,null,{default:(0,i.w5)((function(e){return[(0,i._)("table",bs,[ws,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.users,(function(e){return(0,i.wg)(),(0,i.iD)("tr",null,[(0,i._)("td",null,[(0,i._)("a",{onClick:(0,i.iM)((function(t){return r.select(e)}),["prevent"])},(0,i.zw)(e.userId),9,ks)]),(0,i._)("td",null,[(0,i._)("a",{onClick:(0,i.iM)((function(t){return r.select(e)}),["prevent"])},(0,i.zw)(e.name),9,ys)]),(0,i._)("td",null,(0,i.zw)(e.roleName()),1)])})),256))])]})),_:1})])])}]]);Site.PrevNextMemberVue=Le,Site.MemberFetcherComponentVue=zn,Site.SubmissionsAssignmentMemberComponentVue=In,Site.MembersFetcherComponentVue=Ut.Z,Site.SubmissionsLinksVue=Un,Site.CourseConsole||(Site.CourseConsole=new function(e){var t=e.console;this.assignmentLinks=[],this.assignmentLink=function(e,t,n){this.assignmentLinks.push({property:e,name:t,route:n})},t.title="Course Console",t.tables.add({title:"Course",order:20,api:"/api/course/tables"});var n={title:"Main",route:"",order:1};t.components.addOption({atLeast:s.N.STAFF,page:n,section:{title:"Course",order:5},title:"Members",order:1,route:"/course/members",routes:[{route:"/course/members",component:ke,props:{management:!1}}]}),t.components.addOption({atLeast:s.N.INSTRUCTOR,page:n,section:{title:"Course",order:5},title:"Course Home",order:2,route:"/course/home",routes:[{route:"/course/home",component:tt}]}),t.components.addOption({atLeast:s.N.STAFF,page:n,section:{title:"Course",order:5},title:"Assignments",order:2,route:"/course/assignments",routes:[{route:"/course/assignments",component:bt}]}),t.components.addOption({atLeast:{tag:"course-spoofing",default:s.N.TA},page:n,section:{title:"Course",order:5},title:"Member Spoofing",order:3,route:"/course/spoofing",routes:[{route:"/course/spoofing",component:Ss}]}),t.components.addOption({atLeast:s.N.TA,page:n,section:{title:"Course",order:5},title:"Email Members",order:4,route:"/course/email",routes:[{route:"/course/email",component:ps}]}),t.components.addOption({atLeast:s.N.ADMIN,page:{title:"Management",route:"/management",order:10},section:{title:"Course Management",order:1},title:"Members",order:1,route:"/management/course/members",routes:[{route:"/management/course/members",name:"members",component:ke,props:{management:!0}},{route:"/management/course/member/:id",name:"member",component:Fe,props:!0}]}),t.components.addRoutes([{route:"/course/extensions/:assigntag",component:At,props:!0},{route:"/course/dates/:assigntag",component:on,props:!0},{route:"/course/submissions/:assigntag",component:xn,props:!0},{route:"/course/submissions/:assigntag/:memberid",name:"submissions",component:qn,props:!0}]),t.components.addNav2(dt,10),this.SubmissionsLinksVue=Un}(Site),Site.Console.CourseConsole=Site.CourseConsole,Site.Console.course=Site.CourseConsole)},80874:(e,t,n)=>{n.d(t,{Z:()=>l});var s=n(47289),i=n.n(s),o=n(38306),r=n.n(o)()(i());r.push([e.id,"\ndiv.cl-submissions-bulk p {\n    font-size: 0.9em;\n}\ndiv.cl-submissions-bulk input {\n    width: 5em;\n}\n\n",""]);const l=r},90787:(e,t,n)=>{n.d(t,{Z:()=>l});var s=n(47289),i=n.n(s),o=n(38306),r=n.n(o)()(i());r.push([e.id,"",""]);const l=r},52251:(e,t,n)=>{n.d(t,{Z:()=>l});var s=n(47289),i=n.n(s),o=n(38306),r=n.n(o)()(i());r.push([e.id,"form[data-v-4948184f]{position:relative}div.to[data-v-4948184f]{margin:1em 0;font-style:italic}div.to>div[data-v-4948184f]{font-style:normal;font-size:.85em}div.to>div span.no-email[data-v-4948184f]{color:red;font-style:italic}div.subject[data-v-4948184f]{margin:1em 0}div.subject label[data-v-4948184f]{font-style:italic}div.subject input[type=text][data-v-4948184f]{display:block;margin:.2em 0 0 0;font-style:normal;width:25em}div.buttons input[data-v-4948184f]{width:6em}",""]);const l=r},51819:(e,t,n)=>{n.d(t,{Z:()=>l});var s=n(47289),i=n.n(s),o=n(38306),r=n.n(o)()(i());r.push([e.id,"div.cl-extensions table td{text-align:left}div.cl-extensions table td>div>input{text-align:center}div.cl-extensions table td:nth-child(4)>div{white-space:nowrap}",""]);const l=r},58510:(e,t,n)=>{n.d(t,{Z:()=>l});var s=n(47289),i=n.n(s),o=n(38306),r=n.n(o)()(i());r.push([e.id,"div.cl-bulk-upload form{margin-bottom:1em}div.cl-bulk-upload fieldset>div{display:flex;flex-direction:row;flex-wrap:nowrap}div.cl-bulk-upload fieldset>div>div{padding-right:1em}div.cl-bulk-upload fieldset>div>div p{margin:0 0 .5em 0}div.cl-bulk-upload fieldset>div>div p:last-child{margin:0}div.cl-bulk-upload fieldset>div>div p:last-child input{width:6.5em}div.cl-bulk-upload-dlg{width:400px}",""]);const l=r},40627:(e,t,n)=>{n.d(t,{Z:()=>l});var s=n(47289),i=n.n(s),o=n(38306),r=n.n(o)()(i());r.push([e.id,"div#drops-component[data-v-23f2b753]{padding:1em}div#drops-component th[data-v-23f2b753]:first-child{text-align:center;vertical-align:bottom}",""]);const l=r},53090:(e,t,n)=>{n.d(t,{Z:()=>l});var s=n(47289),i=n.n(s),o=n(38306),r=n.n(o)()(i());r.push([e.id,"div.cl-section-component[data-v-58756191]{white-space:nowrap;vertical-align:top;font-size:.95em;color:#fff;margin:0;padding:1px 0 0 0}div.cl-section-component>span[data-v-58756191]{padding:0 .4em 0 0}div.cl-section-component>span[data-v-58756191]:last-child{padding:0}",""]);const l=r},70453:(e,t,n)=>{n.d(t,{Z:()=>l});var s=n(47289),i=n.n(s),o=n(38306),r=n.n(o)()(i());r.push([e.id,"select[data-v-2e27ec9c]{font-size:.95em;background:#fff;color:#000}",""]);const l=r},3326:(e,t,n)=>{n.d(t,{Z:()=>m});var s=n(66759),i={style:{display:"none"},ref:"students-only"},o={key:0,class:"centerbox comp center"};var r=n(97818),l=n(63255),a=n(44932),u=Site.FetcherVue;const c={props:{fetching:{type:Boolean,default:!1}},data:function(){return{students:!1,studentsElement:null}},methods:{fetchMore:function(){this.$store.dispatch("members/more")},addStudentsOnly:function(){this.students=a.m.get();var e=this.$refs["students-only"];e.parentNode.removeChild(e),document.querySelector("div.cl-section-component span.extra").appendChild(e),e.style.display="inline-block",this.studentsElement=e},studentsOnlyChanged:function(){a.m.set(this.students)}},computed:(0,r.rn)({users:function(e){return this.students?e.members.users.filter((function(e){return e.role()===l.N.STUDENT})):e.members.users},fetcher:function(e){return e.members.fetcher}}),components:{fetcher:u},mounted:function(){var e=this;this.students=a.m.get();var t=this.$store.state.user.user.member,n={semester:t.semester,section:t.section};this.$store.commit("members/query",n),this.$store.dispatch("members/fetch"),setTimeout((function(){e.addStudentsOnly()}),100)},beforeUnmount:function(){this.studentsElement.parentNode.removeChild(this.studentsElement);document.querySelectorAll("div.cl-section-component span.extra")}};const m=(0,n(87619).Z)(c,[["render",function(e,t,n,r,l,a){var u=(0,s.up)("fetcher");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("label",i,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.students=t}),onChange:t[1]||(t[1]=function(){return a.studentsOnlyChanged&&a.studentsOnlyChanged.apply(a,arguments)})},null,544),[[s.e8,e.students]]),(0,s.Uk)(" Students Only")],512),(0,s.Wm)(u,{fetcher:e.fetcher,fetching:n.fetching},{default:(0,s.w5)((function(){return[(0,s.WI)(e.$slots,"default",{users:e.users,students:e.students}),0==e.users.length?((0,s.wg)(),(0,s.iD)("p",o," There are currently no members enrolled in this section.")):(0,s.kq)("v-if",!0)]})),_:3},8,["fetcher","fetching"])])}]])}},e=>{e.O(0,[736,77,828,592,530],(()=>{return t=89024,e(e.s=t);var t}));e.O()}]);